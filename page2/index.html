
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>
      
        Blog - 
      
      Chouqin & Laoqi
    </title>
    
    <meta name="author" content="Qiping Li">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <script src="/assets/themes/hooligan/js/jquery.min.js"></script>
    <script src="/assets/themes/hooligan/bootstrap/js/bootstrap.min.js"></script>

    <link href="/assets/themes/hooligan/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/hooligan/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">    
    <link rel="stylesheet" type="text/css" href="/assets/themes/hooligan/css-social-buttons/css/zocial.stripped.css" />
    <link href="/assets/themes/hooligan/css/pygments.css" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/hooligan/css/darkstrap.css" rel="stylesheet" type="text/css" media="all">    
    <link href="/assets/themes/hooligan/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    
    <!-- fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>      


          <a class="brand" href="/">Chouqin & Laoqi</a>


          <div class="nav-collapse">
            <ul class="nav">
              
              
              


  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/about.html">About Me</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



            </ul>
            <ul class="nav pull-right social visible-desktop">
              <li class="divider-vertical"></li>
              
                <li>
                  <a href="https://www.github.com/chouqin" class="zocial github icon" target="_blank">
                    <span class="hidden-desktop">Github</a>
                  </a>
                </li>
              
                  
                                        
                         
                                  
              
              
                <li>
                  <a href="http://www.weibo.com/" class="zocial weibo icon" target="_blank">
                    <span class="hidden-desktop">Weibo</a>
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="content">
        <div class="row">
    <div class="span8" style="margin-top:20px;">
      <!--[> iterate through the posts on this page <]-->
      
        <div class="post">
          <h1><a href="/clrs/2012/12/18/clrs-1618">贪心算法和B树</a></h1>
          <p class="meta">December 18, 2012</p>
            <!--<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->

<script type="text/javascript" src="/assets/custom/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<h2 id="section">贪心算法</h2>
<p>动态规划是一种解决问题的通用方法，
在求解最优化问题的时候，
动态规划能够综合考虑到各种情况然后做出最优的选择。
可是，对于一些特殊的问题，
在从子问题中做出选择时，可以不用考虑所有的子问题，
而只需要考虑一个子问题，
因为选择这个子问题一定可以达到一个最优解，
在这种情况下，就可以采用贪心算法来解决。
贪心算法的好处在于，不需要考虑所有的子问题，
只需要考虑一种情况，这时求解的子问题的数目就减少了，
同时，可以采用一种自顶向下的方法解决问题，
逐步地把问题转化为更小的子问题，直到可以轻易解决。</p>

<h3 id="section-1">从动态规划到贪心</h3>
<p>书上给出了一个这样的例子来说明从动态规划算法转化到贪心算法。</p>

<p>有n个活动组成集合<script type="math/tex"> S = \{a_1, a_2, ..., a_n\} </script>，它们需要占用同一个资源，
这个资源在同一个时间只能被一个活动占用，每一个活动<script type="math/tex"> a_i </script>使用资源的起始时间和结束时间分别为
<script type="math/tex"> s_n, f_n </script>，如果区间<script type="math/tex"> [s_i, f_i) </script>与区间<script type="math/tex"> [s_j, f_j) </script>不重叠，
就称活动<script type="math/tex"> a_i </script>与活动<script type="math/tex"> a_j </script>是兼容的，求S的一个由互相兼容的活动组成的最大子集，
假设活动已经按结束时间排好序。</p>

<p>对于这个问题，可以定义如下子问题<script type="math/tex"> S_{ij} </script>，
表示从S的子集<script type="math/tex"> S_{ij} </script>中得到的最大兼容子集，
其中<script type="math/tex">% <![CDATA[
 S_{ij} = \{ a_k \in S: s_k \geq f_i and f_k < s_j \} %]]></script>，
也就是说，<script type="math/tex"> S_{ij} </script>是由所有在<script type="math/tex"> a_i </script>结束之后开始，
在<script type="math/tex"> a_j </script>开始之前结束的活动组成的集合。
通过定义这样一个子问题，
就可以很容易地得出如下递推公式，</p>

<script type="math/tex; mode=display">
A_{ij} = A_{ik} \bigcup \{a_k\} \bigcup A_{kj}, 其中A_{ij}表示子问题S_{ij}的解
</script>

<p>从而利用动态规划解决这个问题。</p>

<p>然而，动态规划并不是一个最优的解法，
因为要求解的子问题的个数为<script type="math/tex"> O(n^2) </script>个，
而且求解每个子问题时选择的个数也有<script type="math/tex"> O(n) </script>个，
这就导致了通过动态规划求解问题所需的复杂度为<script type="math/tex"> O(n^3) </script>。</p>

<p>如果采用贪心的算法，每次通过选取<script type="math/tex"> S_{ij} </script>中具有最早结束时间的活动<script type="math/tex"> a_m </script>作为划分元素的话，
那么就可以通过</p>

<script type="math/tex; mode=display">
A_{ij} = A_{im} \bigcup \{a_m\} \bigcup A_{mj}
</script>

<p>得到一个最优的解，而不用考虑其它元素作为划分元素时的子问题。</p>

<p class='more'><a href='/clrs/2012/12/18/clrs-1618'>More...</a></p>
        </div>
      
        <div class="post">
          <h1><a href="/clrs/2012/12/12/clrs-14-15">红黑树扩充与动态规划</a></h1>
          <p class="meta">December 12, 2012</p>
            <script type="text/javascript" src="/assets/custom/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<!--<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->

<h2 id="section">红黑树的扩充</h2>

<p>由于红黑树这种结构很好的平衡性（树的高度不会很高），
对于动态变化的集合插入，查找，删除等操作的复杂度都比较低，
通过给它的节点增加一些其他的属性，
能够得到一些在特定情况下很有用的数据结构。</p>

<h3 id="section-1">扩充数据结构的四个步骤</h3>

<ol>
  <li>选择基础的数据结构</li>
  <li>确定需要给数据结构添加哪些信息，
这些信息可能被添加到每个节点中，也可能被添加作为整体数据结构的性质</li>
  <li>验证在数据结构的基本操作的过程中，这些信息可以被有效的维护，
这里的有效是指不会因为维护这些信息增加基础操作的复杂度</li>
  <li>利用这些信息提供一些有用的操作</li>
</ol>

<h3 id="section-2">通过扩充红黑树得到顺序统计</h3>

<p>通过给红黑树的每一个节点x附加属性size[x]，
表示以x为根的子树的节点个数，
可以通过递归确定一棵红黑树的第i小关键字的元素。
由于包含n个元素的红黑树的高度为<script type="math/tex"> O(\lg n) </script>，每次递归高度都会下降一层，
所以查找第i小关键字的时间复杂度为<script type="math/tex"> O(\lg n) </script>。</p>

<p>在第9章中，给出了获取n个元素的数组中第i个元素的<script type="math/tex"> \Theta(n) </script>的算法，
而一个包含n个元素的数组如果是有序的话，那么获取第i个元素的复杂度是<script type="math/tex"> O(1) </script>。
但是这种扩充的数据结构的好处在于它的动态性，它的插入和删除的时间复杂度也是<script type="math/tex"> O(\lg n) </script>，
而一个有序数组的插入和删除的复杂度是<script type="math/tex"> O(n) </script>。</p>

<h3 id="section-3">通过扩充红黑树得到区间树</h3>

<p>在区间树中，每一个节点x包含了一段区间int[x]，同时包含了一个max[x]，
表示以x为根的子树中所有区间的右端点的最大值，同时每一个节点的key[x] = low[int[x]]，
也就是说是把每一个节点所包含区间的左端点作为key。</p>

<p>区间树使得查找整个红黑树中与某一个区间i重合的区间变得十分容易，
可以如下递归实现：</p>

<ol>
  <li>如果当前节点为空，返回空节点</li>
  <li>如果区间i与当前节点的区间重合，返回当前节点</li>
  <li>如果区间i的左端点小于当前节点左儿子的max，递归查找左子树</li>
  <li>否则递归查找右子树</li>
</ol>

<p>情况1，2很自然，情况4也比较好理解，
因为如果i的左端点大于左儿子的max，它就大于那么对于左子树中所有节点的右端点，
左子树中一定不存在和区间i重合区间。情况3需要一定的思考，
因为如果i的左端点小于当前节点左儿子的max，并不能保证它一定不会与右子树中的区间重合，
所以如果只是递归查找左子树，如果左子树中有区间和i重合，那么能够返回正确结果
（因为只需要找到一个和i重合的区间就可以），如果左子树中没有区间与i重合，
那右子树中可能会有区间与i重合，导致没有返回正确的结果。情况是这样的吗？</p>

<p>不是这样的，下面可以证明在情况3时如果左子树中没有找到与i重合的区间，
那么在右子树中也一定不存在和i重合的区间。</p>

<p>假设左儿子的max来自于high[j]（也就是说，是左子树中区间j的右端点)，
那么一定有</p>

<script type="math/tex; mode=display">% <![CDATA[
 
high[i] < low[j]
 %]]></script>

<p>否则区间i和j重合，对于右子树中的任意区间k，一定有</p>

<script type="math/tex; mode=display"> 
low[k] \geq low[j] > high[i] \text{第一个不等式成立是根据红黑树关键字的性质}
</script>

<p>所以k与i不重合。</p>

<h2 id="section-4">动态规划</h2>

<p class='more'><a href='/clrs/2012/12/12/clrs-14-15'>More...</a></p>
        </div>
      

      <!--[> links to prev and next pages for browsing thru archives <]-->
      
        <span id="newer"><a href="/">&laquo;&laquo; Newer Entries</a></span>
      
      
        <span id="older"><a href="/page3">Older Entries &raquo;&raquo;</a></span>
      

    </div>

    <div class="span4" style="margin-top:20px;">
        <h3>所有分类</h3>
        <ul class="categories">
        <!--<ul class="tag_box">-->
        <!-- -->
             <!---->
        <!-- -->
             <!---->
        <!-- -->
             <!---->
        <!-- -->
             <!---->
        <!-- -->
             <!---->
        <!-- -->
             <!---->
        <!---->
        
        <!--<li><a href="/categories/linux">linux <span> 1 </span></a></li></span>-->
        <li><a href="/categories/linux">linux <span> 1 </span></a></li>
        
        <!--<li><a href="/categories/lessons">lessons <span> 1 </span></a></li></span>-->
        <li><a href="/categories/lessons">lessons <span> 1 </span></a></li>
        
        <!--<li><a href="/categories/Feelings">Feelings <span> 2 </span></a></li></span>-->
        <li><a href="/categories/Feelings">Feelings <span> 2 </span></a></li>
        
        <!--<li><a href="/categories/mysql">mysql <span> 1 </span></a></li></span>-->
        <li><a href="/categories/mysql">mysql <span> 1 </span></a></li>
        
        <!--<li><a href="/categories/python">python <span> 1 </span></a></li></span>-->
        <li><a href="/categories/python">python <span> 1 </span></a></li>
        
        <!--<li><a href="/categories/clrs">clrs <span> 6 </span></a></li></span>-->
        <li><a href="/categories/clrs">clrs <span> 6 </span></a></li>
        
        <!--Liquid error: undefined method `sort!' for #<Hash:0xb616e7c8>-->
            <!---->
            <!--


  
     
    	<li><a href="/categories.html#linux-ref">
    		linux <span>1</span>
    	</a></li>
     
    	<li><a href="/categories.html#lessons-ref">
    		lessons <span>1</span>
    	</a></li>
     
    	<li><a href="/categories.html#Feelings-ref">
    		Feelings <span>2</span>
    	</a></li>
     
    	<li><a href="/categories.html#mysql-ref">
    		mysql <span>1</span>
    	</a></li>
     
    	<li><a href="/categories.html#python-ref">
    		python <span>1</span>
    	</a></li>
     
    	<li><a href="/categories.html#clrs-ref">
    		clrs <span>6</span>
    	</a></li>
    
  

-->
        </ul>
        <!-- -->
          <!--<h2 id="linux-ref">linux</h2>-->
          <!--<ul>-->
            <!--  -->
            <!--


  
    
      
      	
      	<li><a href="/linux/2012/09/14/archlinux-installation">ArchLinux 安装经过</a></li>
      	
      
    
  


-->
          <!--</ul>-->
        <!-- -->
          <!--<h2 id="lessons-ref">lessons</h2>-->
          <!--<ul>-->
            <!--  -->
            <!--


  
    
      
      	
      	<li><a href="/lessons/2011/12/29/jekyll-introduction">Jekyll Introduction</a></li>
      	
      
    
  


-->
          <!--</ul>-->
        <!-- -->
          <!--<h2 id="Feelings-ref">Feelings</h2>-->
          <!--<ul>-->
            <!--  -->
            <!--


  
    
      
      	
      	<li><a href="/Feelings/2013/01/01/new-2013">再见2012，你好2013</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/Feelings/2012/10/27/feeling">最近的总结与感悟</a></li>
      	
      
    
  


-->
          <!--</ul>-->
        <!-- -->
          <!--<h2 id="mysql-ref">mysql</h2>-->
          <!--<ul>-->
            <!--  -->
            <!--


  
    
      
      	
      	<li><a href="/mysql/2012/11/15/mysql-basic">MySQL 基本优化</a></li>
      	
      
    
  


-->
          <!--</ul>-->
        <!-- -->
          <!--<h2 id="python-ref">python</h2>-->
          <!--<ul>-->
            <!--  -->
            <!--


  
    
      
      	
      	<li><a href="/python/2012/11/11/chinese-encoding">浅谈中文编码</a></li>
      	
      
    
  


-->
          <!--</ul>-->
        <!-- -->
          <!--<h2 id="clrs-ref">clrs</h2>-->
          <!--<ul>-->
            <!--  -->
            <!--


  
    
      
      	
      	<li><a href="/clrs/2012/12/30/clrs-22-23">图的基本算法</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/clrs/2012/12/18/clrs-1618">贪心算法和B树</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/clrs/2012/12/12/clrs-14-15">红黑树扩充与动态规划</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/clrs/2012/12/04/clrs-10-13">《算法导论》之基本数据结构</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/clrs/2012/12/01/clrs-8-9">算法导论8~9章读书笔记</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/clrs/2012/11/19/clrs-1">《算法导论》读书总结1</a></li>
      	
      
    
  


-->
          <!--</ul>-->
        <!---->
    </div>
</div>


      </div>

      <footer>
        <p>&copy; Qiping Li 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://github.com/dhulihan/hooligan" target="_blank">The Hooligan Theme</a>
        </p>
      </footer>
    </div> <!-- /container -->
    
  </body>
</html>

